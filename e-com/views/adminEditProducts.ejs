<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edit Product</title>
<link rel="stylesheet" href="/css/adminEditProducts.css">
</head>

<body>

<!-- ===========================
     Sidebar
=========================== -->
<div class="sidebar">
    <h2>Admin Panel</h2>
    <a href="/admin/dashboard">Dashboard</a>

    <div class="sidebar-section">
        <a href="#" class="collapsible">Manage Products</a>
        <div class="sidebar-buttons">
            <a href="/admin/products/add">Add Product</a>
            <a href="/admin/products/edit">Edit Product</a>
            <a href="/admin/products/delete">Delete Product</a>
        </div>
        <a href="#" class="collapsible">Manage Variants</a>
        <div class="sidebar-buttons">
            <a href="/admin/products/addvariant">Add Variant</a>
            <a href="/admin/products/deletevariant">Delete Variant</a>
        </div>
    </div>

    <a href="/admin/orders">Orders</a>
    <a href="/admin/users">Users</a>
    <a href="/admin/settings">Settings</a>
</div>

<!-- ===========================
     Main Content
=========================== -->
<div class="content">
    <div class="topbar">
        <h2>Edit Products</h2>
    </div>

    <div class="edit-container">
        <!-- Product Selector -->
        <label for="productSelect">Select Product:</label>
        <select id="productSelect" class="product-select">
            <option value="">-- Select a Product --</option>
            <% products.forEach(product => { %>
                <option value="<%= product._id %>"><%= product.title %></option>
            <% }) %>
        </select>

        <!-- Variant Selector -->
        <div id="variantContainer" style="display:none; margin-top:10px;">
            <label for="variantSelect">Select Variant:</label>
            <select id="variantSelect" class="product-select"></select>
        </div>

        <!-- Product Edit Form -->
        <div id="productDetails" style="display:none; margin-top:20px;">
            <form id="editForm">

                <!-- Product-level Fields -->
                <label for="productId">Product ID:</label><br>
                <input type="text" id="productId" name="productId" readonly><br><br>

                <label for="name">Product Title:</label><br>
                <input type="text" id="name" name="name" required><br><br>

                <label for="description">Description:</label><br>
                <textarea id="description" name="description" rows="3" required></textarea><br><br>

                <label for="images">Images:</label><br>
                <input type="text" id="images" name="images"><br><br>

                <label for="category">Category ID:</label><br>
                <input type="text" id="category" name="category" readonly><br><br>

                <label for="brand">Brand ID:</label><br>
                <input type="text" id="brand" name="brand" readonly><br><br>

                <!-- Variant-level Fields -->
                <div id="variantFields">
                    <label for="variantId">Variant ID:</label><br>
                    <input type="text" id="variantId" name="variantId" readonly><br><br>

                    <label for="sku">SKU:</label><br>
                    <input type="text" id="sku" name="sku" required><br><br>

                    <label for="price">Price:</label><br>
                    <input type="number" id="price" name="price" step="0.01" required><br><br>

                    <label for="discountPrice">Discount Price:</label><br>
                    <input type="number" id="discountPrice" name="discountPrice" step="0.01"><br><br>

                    <label for="stock">Stock:</label><br>
                    <input type="number" id="stock" name="stock" required><br><br>

                    <label for="color">Color:</label><br>
                    <input type="text" id="color" name="color"><br><br>

                    <label for="size">Size:</label><br>
                    <input type="text" id="size" name="size"><br><br>

                    <label for="variantImage">Variant Image:</label><br>
                    <input type="text" id="variantImage" name="variantImage"><br><br>
                </div>

                <button type="submit">Update Product</button>
            </form>
        </div>
    </div>
</div>

<!-- ===========================
     Scripts
=========================== -->
<script src="/js/adminEditProducts.js"></script>
</body>
</html>
